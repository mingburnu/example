<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
    <title>01Cookie.html</title>
    <script>
        function setCookie(key, value) {
            document.cookie = "name2=Mary;expires=Tue, 10 Dec 2014 20:47:11 GMT; path=/";
            var cookieDate = new Date(2014, 11, 10, 19, 30, 30);
            document.cookie = key + "=" + escape(value) + ";expires=" + cookieDate.toGMTString() + ";path=/";
            alert(document.cookie);  //name=Jack
    
        }
    
        function delCookie(key) {
            var exp = new Date();
            //alert(exp);
            exp.setTime(exp.getTime() - (24 * 60 * 60 * 1000));
            //alert(exp);
            //document.cookie = "name=Jack;expires=Mon, 10 Aug 2012 20:47:11 GMT; path=/";
            document.cookie = key + "=" + "; expires=" + exp.toGMTString() + ";path=/";
        }
    
        function getCookie() {
            document.writeln("<p>原始 Cookie 字串：" + document.cookie + "</p>");
            document.writeln("<p>拆解後的 name/value：</p>");
            document.writeln("<table style='border:solid red 2px;border-collapse:collapse'>");
            document.writeln("<tr><th style='border:solid red 2px;color:green'>Name</th><th style='border:solid red 2px;color:green'>Value</th></tr>");
            if (document.cookie != "") {
                cookieArray = document.cookie.split(";");
                for (var i = 0; i < cookieArray.length; i++) {
                    thisCookie = cookieArray[i].split("=");
                    cookieName = unescape(thisCookie[0]);
                    cookieValue = unescape(thisCookie[1]);
                    document.writeln("<tr><td style='border:solid red 2px'>" + cookieName + "</td><td style='border:solid red 2px'>" + cookieValue + "</td></tr>");
                }
                document.writeln("</table>");
            }
        }	
    
    </script>
    </head>
    <body>
    	<input type="button" value="設定 cookie" onclick="setCookie('name','Jack');"/>
    	<input type="button" value="刪除 cookie" onclick="delCookie('name');"/>
    	<input type="button" value="顯示 cookie" onclick="getCookie();" />	
    </body>
</html>
